import{_ as P,t as S,w as d,n as p,O as s,q as m,R as r,l as b,M as V,Q as B,S as N,m as u}from"./index-BzDhBI-E.js";import{V as T}from"./VDataTableServer-DOCh4jCV.js";import{V as f}from"./VBtn-DUmaQDni.js";import{l as w}from"./index-kLZTqJWw.js";const _=[{name:{ISBN:"9789573311478",book:"和小星說童話",author:[{name:"王小明",status:!0},{name:"陳小美",status:!1},{name:"張小天",status:!1}]},class:"大新出版",status:"待審"},{name:{ISBN:"9789573311478",book:"和小星說童話",author:[{name:"王小明",status:!0},{name:"陳小美",status:!1},{name:"張小天",status:!1}]},class:"大新出版",status:"待審"},{name:{ISBN:"9789573311478",book:"和小星說童話",author:[{name:"王小明",status:!0},{name:"陳小美",status:!1},{name:"張小天",status:!1}]},class:"大新出版",status:"待審"}],x={async fetch({page:a,itemsPerPage:t,sortBy:l}){return new Promise(i=>{setTimeout(()=>{const o=(a-1)*t,c=o+t,e=_.slice();if(l.length){const g=l[0].key,k=l[0].order;e.sort((I,y)=>{const h=I[g],v=y[g];return k==="desc"?v-h:h-v})}const n=e.slice(o,c);i({items:n,total:e.length})},500)})}},U={data:()=>({itemsPerPage:5,headers:[{title:"書目資訊",key:"name",align:"start",sortable:!1},{title:"出版品牌",key:"class",align:"start",sortable:!1},{title:"審核狀態",key:"status",align:"start",sortable:!1},{title:"補償酬金發放",key:"function",align:"center",sortable:!1,width:100},{title:"操作",key:"iron",align:"start",sortable:!1,width:100}],customItemsPerPageText:"每頁顯示項目",serverItems:[],loading:!0,totalItems:0}),methods:{loadItems({page:a,itemsPerPage:t,sortBy:l}){this.loading=!0,x.fetch({page:a,itemsPerPage:t,sortBy:l}).then(({items:i,total:o})=>{this.serverItems=i,this.totalItems=o,this.loading=!1})}},computed:{}},$={class:""},q={class:"my-3"},C={class:""},D={class:""},F={class:""},O={class:""},j={class:""},z={class:"btnGroup d-flex"};function A(a,t,l,i,o,c){return p(),S(T,{"items-per-page":a.itemsPerPage,"onUpdate:itemsPerPage":t[0]||(t[0]=e=>a.itemsPerPage=e),headers:a.headers,"items-length":a.totalItems,items:a.serverItems,loading:a.loading,"item-value":"name",class:"dataTableServer bookTable",color:"primary","items-per-page-text":a.customItemsPerPageText,"onUpdate:options":c.loadItems},{item:d(({item:e})=>[s("tr",null,[s("td",$,[s("div",q,[s("div",C,[t[1]||(t[1]=s("span",{class:"title"},"ISBN:",-1)),m(" "+r(e.name.ISBN)+" ",1),t[2]||(t[2]=s("a",{href:""},[s("span",{class:"check"},"查看")],-1))]),s("div",D,[t[3]||(t[3]=s("span",{class:"title"},"書名:",-1)),m(r(e.name.book),1)]),s("div",F,[t[4]||(t[4]=s("span",{class:"title"},"作者:",-1)),(p(!0),b(V,null,B(e.name.author,n=>(p(),b("span",{key:n in e.name.author,class:N(["name",{"text-gray":n.status===!1}])},r(n.name),3))),128))])])]),s("td",O,r(e.class),1),s("td",j,r(e.status),1),s("td",null,[s("div",z,[u(f,{elevation:"0",color:"primary",class:"mr-1"},{default:d(()=>t[5]||(t[5]=[m("刪除")])),_:1}),u(f,{elevation:"0",color:"primary",variant:"outlined"},{default:d(()=>t[6]||(t[6]=[m("新增")])),_:1})])]),s("td",null,[u(f,{class:"iconBtn",elevation:"0",color:"primary",rounded:"md"},{default:d(()=>[u(w,{icon:"mdi-square-edit-outline"})]),_:1})])]),t[7]||(t[7]=s("tr",null,[s("td",{colspan:"8"},[s("div",{class:"d-flex justify-space-between"},[s("div",{class:"tag"},"累積借閱次數：101次"),s("div",{class:""},[s("span",null,"送審日期:2025/01/09"),s("span",null,"審核完畢:2025/01/09")])])])],-1))]),_:1},8,["items-per-page","headers","items-length","items","loading","items-per-page-text","onUpdate:options"])}const M=P(U,[["render",A]]);export{M as d};
