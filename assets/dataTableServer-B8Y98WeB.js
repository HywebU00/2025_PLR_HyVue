import{_ as B,t as S,w as i,n as f,O as s,q as u,R as d,l as b,M as V,Q as _,S as N,m as l}from"./index-BNdaNVWj.js";import{V as T}from"./VDataTableServer-CfPiyePV.js";import{V as c}from"./VBtn-BX2Xu3z7.js";import{l as k}from"./index-D2Fr3SNU.js";const w=[{name:{ISBN:"9789573311478",book:"和小星說童話",author:[{name:"王小明",status:!0},{name:"陳小美",status:!1},{name:"張小天",status:!1}]},class:"大新出版",status:"待審"},{name:{ISBN:"9789573311478",book:"和小星說童話",author:[{name:"王小明",status:!0},{name:"陳小美",status:!1},{name:"張小天",status:!1}]},class:"大新出版",status:"待審"},{name:{ISBN:"9789573311478",book:"和小星說童話",author:[{name:"王小明",status:!0},{name:"陳小美",status:!1},{name:"張小天",status:!1}]},class:"大新出版",status:"待審"}],x={async fetch({page:a,itemsPerPage:t,sortBy:o}){return new Promise(m=>{setTimeout(()=>{const n=(a-1)*t,p=n+t,e=w.slice();if(o.length){const g=o[0].key,I=o[0].order;e.sort((y,P)=>{const v=y[g],h=P[g];return I==="desc"?h-v:v-h})}const r=e.slice(n,p);m({items:r,total:e.length})},500)})}},q={data:()=>({itemsPerPage:5,headers:[{title:"書目資訊",key:"name",align:"start",sortable:!1},{title:"出版品牌",key:"class",align:"start",sortable:!1},{title:"審核狀態",key:"status",align:"start",sortable:!1},{title:"補償酬金發放",key:"function",align:"center",sortable:!1,width:100},{title:"操作",key:"iron",align:"start",sortable:!1,width:100}],customItemsPerPageText:"每頁顯示項目",serverItems:[],loading:!0,totalItems:0}),methods:{loadItems({page:a,itemsPerPage:t,sortBy:o}){this.loading=!0,x.fetch({page:a,itemsPerPage:t,sortBy:o}).then(({items:m,total:n})=>{this.serverItems=m,this.totalItems=n,this.loading=!1})}},computed:{}},U={class:""},$={class:"my-3"},C={class:""},D={class:""},F={class:""},O={class:""},j={class:""},z={class:"btnGroup d-flex"},A={class:"d-flex"};function E(a,t,o,m,n,p){return f(),S(T,{"items-per-page":a.itemsPerPage,"onUpdate:itemsPerPage":t[0]||(t[0]=e=>a.itemsPerPage=e),headers:a.headers,"items-length":a.totalItems,items:a.serverItems,loading:a.loading,"item-value":"name",class:"dataTableServer bookTable",color:"primary","items-per-page-text":a.customItemsPerPageText,"onUpdate:options":p.loadItems},{item:i(({item:e})=>[s("tr",null,[s("td",U,[s("div",$,[s("div",C,[t[1]||(t[1]=s("span",{class:"title"},"ISBN:",-1)),u(" "+d(e.name.ISBN)+" ",1),t[2]||(t[2]=s("a",{href:""},[s("span",{class:"check"},"查看")],-1))]),s("div",D,[t[3]||(t[3]=s("span",{class:"title"},"書名:",-1)),u(d(e.name.book),1)]),s("div",F,[t[4]||(t[4]=s("span",{class:"title"},"作者:",-1)),(f(!0),b(V,null,_(e.name.author,r=>(f(),b("span",{key:r in e.name.author,class:N(["name",{"text-gray":r.status===!1}])},d(r.name),3))),128))])])]),s("td",O,d(e.class),1),s("td",j,d(e.status),1),s("td",null,[s("div",z,[l(c,{elevation:"0",color:"primary",class:"mr-1"},{default:i(()=>t[5]||(t[5]=[u("刪除")])),_:1}),l(c,{elevation:"0",color:"primary",variant:"outlined"},{default:i(()=>t[6]||(t[6]=[u("新增")])),_:1})])]),s("td",null,[s("div",A,[l(c,{class:"iconBtn mr-1",elevation:"0",color:"primary",rounded:"md"},{default:i(()=>[l(k,{icon:"mdi-square-edit-outline"})]),_:1}),l(c,{class:"iconBtn",elevation:"0",color:"primary",rounded:"md"},{default:i(()=>[l(k,{icon:"mdi-square-edit-outline"})]),_:1})])])]),t[7]||(t[7]=s("tr",null,[s("td",{colspan:"8"},[s("div",{class:"d-flex justify-space-between"},[s("div",{class:"tag"},"累積借閱次數：101次"),s("div",{class:""},[s("span",null,"送審日期:2025/01/09"),s("span",null,"審核完畢:2025/01/09")])])])],-1))]),_:1},8,["items-per-page","headers","items-length","items","loading","items-per-page-text","onUpdate:options"])}const Q=B(q,[["render",E]]);export{Q as d};
